{"version":3,"sources":["js/components/CalendarTab.js","js/components/google.login/LoginButton.js","js/components/LoginTab.js","js/components/Tabs.js","js/components/google.login/PrivateRouter.js","js/components/google.login/PublicRouter.js","js/BasePage.js","js/Routes.js","js/App.js","js/reportWebVitals.js","index.js"],"names":["CalendarTab","props","state","calendars","getCalendarsFromAPI","bind","a","this","url","axios","get","then","res","calendarsReSponse","data","listCalendarsTemp","i","length","push","setState","console","log","catch","error","name","plugins","dayGridPlugin","initialView","weekends","events","React","Component","LoginButton","clientId","render","renderProps","className","id","type","onClick","buttonText","isSignedIn","responseType","prompt","scope","onSuccess","fetch","method","body","JSON","stringify","headers","localStorage","getItem","json","onFailure","cookiePolicy","LoginTab","onShowAlert","visible","window","setTimeout","submitLoginUetCourses","serialize","require","form","document","querySelector","uetCreds","isLogInUETCoursesSuccess","src","alt","placeholder","width","Alert","color","variant","show","Tabs","useState","activeTab","setActiveTab","style","margin","PrivateRouter","component","rest","exact","from","to","PublicRouter","BasePage","path","AuthPage","doLogin","doRegister","setAccessToken","Button","token","Logout","Routes","isAuthorized","username","password","cb","accessToken","App","setAuthorized","display","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.a14fc5f7.chunk.js","sourcesContent":["import React from \"react\";\r\nimport FullCalendar from '@fullcalendar/react'\r\nimport dayGridPlugin from '@fullcalendar/daygrid'\r\nimport axios from 'axios';\r\n\r\nclass CalendarTab extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            calendars: [],\r\n        };\r\n        this.getCalendarsFromAPI = this.getCalendarsFromAPI.bind(this)\r\n        // this.getUetCalendars = this.getUetCalendars.bind(this);\r\n        // this.getGoogleCalendars = this.getGoogleCalendars.bind(this);\r\n        // this.getCalendarsFromEmail = this.getCalendarsFromEmail.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.getCalendarsFromAPI(`/rest/uet-courses-calendar`);\r\n        await this.getCalendarsFromAPI(`/rest/google-calendar`);\r\n        await this.getCalendarsFromAPI(`/rest/google-gmail`);\r\n    }\r\n\r\n    async getCalendarsFromAPI(url) {\r\n        await axios.get(url)\r\n            .then((res) => {\r\n\r\n                var calendarsReSponse = res.data;\r\n\r\n                let listCalendarsTemp = [...this.state.calendars];\r\n\r\n                for(var i = 0; i < calendarsReSponse.length; i++){\r\n                    listCalendarsTemp.push(calendarsReSponse[i]);\r\n                }\r\n\r\n                this.setState({calendars : listCalendarsTemp});\r\n\r\n                // this.setState({uetCalendars : res.data});\r\n                console.log(this.state.calendars);\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    // getGoogleCalendars(){\r\n    // //     /rest/google-mail\r\n    // // /rest/google-calendar\r\n    // }\r\n    //\r\n    // getCalendarsFromEmail(){\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {/*<div>*/}\r\n                {/*    <div>*/}\r\n                {/*        <button className=\"btn btn-primary d-block w-100 dongbo\"*/}\r\n                {/*                type=\"button\"*/}\r\n                {/*                onClick={this.getUetCalendars}*/}\r\n                {/*        >Đồng bộ</button>*/}\r\n                {/*    </div>*/}\r\n                {/*</div>*/}\r\n\r\n                <h2>{this.state.name}</h2>\r\n                <FullCalendar\r\n                    plugins={[dayGridPlugin]}\r\n                    initialView=\"dayGridMonth\"\r\n                    weekends={true}\r\n                    events={this.state.calendars}\r\n                />\r\n            </div>\r\n\r\n        );\r\n    }\r\n};\r\n\r\nexport default CalendarTab;\r\n","import React from 'react';\r\nimport GoogleLogin from 'react-google-login';\r\n\r\nconst LoginButton = () => {\r\n\r\n    const responseSuccess = (res) => {\r\n        fetch('http://localhost:8080/api/integration/google-auth', {\r\n            method: 'POST',\r\n            body: JSON.stringify(res),\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('accessToken')}`,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(res);\r\n        })\r\n    };\r\n\r\n    const responseFailure = (res) => {\r\n        console.log(res);\r\n    };\r\n\r\n    return (\r\n        // <button onClick={signIn}>Login</button>\r\n        <GoogleLogin\r\n        clientId=\"905434550263-fe4nhl3ec5u3r1tnkd77pq64053ddb6m.apps.googleusercontent.com\"\r\n        render={renderProps => (\r\n            <button className=\"btn btn-primary d-block w-100 btn-signin\" id=\"sign-in-google\"\r\n                    type=\"button\"\r\n                    onClick={renderProps.onClick}\r\n            >Sign In with Google\r\n            </button>\r\n        )}\r\n        buttonText=\"Login\"\r\n        isSignedIn={true}\r\n        responseType=\"code\"\r\n        prompt=\"consent\"\r\n        scope=\"https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/gmail.readonly\"\r\n        onSuccess={responseSuccess}\r\n        onFailure={responseFailure}\r\n        cookiePolicy={'single_host_origin'}\r\n      />\r\n    );\r\n};\r\n\r\nexport default LoginButton;","import React from \"react\";\r\nimport \"../../css/Login-Form-Clean.css\"\r\nimport \"../../bootstrap/css/bootstrap.min.css\"\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport LoginButton from './google.login/LoginButton'\r\nimport LogoutButton from './google.login/LogoutButton'\r\n\r\nclass LoginTab extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            visible : false,\r\n            isLogInUETCoursesSuccess : false\r\n        };\r\n    }\r\n\r\n    onShowAlert = ()=>{\r\n        this.setState({visible:true},()=>{\r\n            window.setTimeout(()=>{\r\n                this.setState({visible:false})\r\n            },3000)\r\n        });\r\n    }\r\n\r\n    submitLoginUetCourses = async() => {\r\n\r\n        var serialize = require('form-serialize');\r\n        var form = document.querySelector('#uet-auth-form');\r\n\r\n        var uetCreds = serialize(form); \r\n\r\n        fetch('https://courses.uet.vnu.edu.vn/login/token.php?service=moodle_mobile_app', {\r\n            method: 'POST',\r\n            body: uetCreds,\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            }\r\n        })\r\n        .then((res) => res.json())\r\n        .then(res => {\r\n            fetch('http://localhost:8080/api/integration/uet-auth', {\r\n                method: 'POST',\r\n                body: JSON.stringify(res),\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('accessToken')}`,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                console.log(res);\r\n            })\r\n        })\r\n\r\n        this.onShowAlert();\r\n\r\n    }\r\n    render(){\r\n    return (\r\n        <div className=\"FirstTab\">\r\n            <section className=\"text-center features-icons\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-4\">\r\n                            <div className=\"mx-auto features-icons-item mb-5 mb-lg-0 mb-lg-3\"/>\r\n                            <section className=\"login-clean form-login\">\r\n                                <form id=\"uet-auth-form\">\r\n                                    <h2 className=\"visually-hidden\">Login Form</h2>\r\n                                    <div className=\"illustration\">\r\n                                        <img src=\"uet-logo.png\" alt={\"UET Logo\"}/>\r\n                                    </div>\r\n                                    <div className=\"mb-3\">\r\n                                        <input className=\"form-control\" type=\"text\"\r\n                                             id=\"uet-username-1\" name=\"username\"\r\n                                             placeholder=\"Username\"/>\r\n                                        </div>\r\n                                    <div className=\"mb-3\">\r\n                                        <input className=\"form-control\" type=\"password\"\r\n                                         id=\"uet-password-1\" name=\"password\"\r\n                                         placeholder=\"Password\"/>\r\n                                    </div>\r\n                                    <button className=\"btn btn-primary d-block w-100 btn-signin\" type=\"button\"\r\n                                            onClick={this.submitLoginUetCourses}\r\n                                    >Sign In</button>\r\n                                    <div className=\"mb-3\"/>\r\n                                </form>\r\n                            </section>\r\n                        </div>\r\n                        <div className=\"col-lg-4\">\r\n                            <div className=\"mx-auto features-icons-item mb-5 mb-lg-0 mb-lg-3\"/>\r\n                            <section className=\"login-clean form-login\">\r\n                                <form id=\"google-auth-form\">\r\n                                    <h2 className=\"visually-hidden\">Login Form</h2>\r\n\r\n                                    <div className=\"illustration\">\r\n\r\n                                        <img src=\"google.png\" width=\"76\" alt={\"Chrome Logo\"} className=\"google-img\"/>\r\n\r\n                                        <div className=\"gmail-ggcalendar-img\">\r\n                                            <img className=\"gmail-img\" src=\"gmail-logo.png\" width=\"76\" alt={\"Gmail Logo\"}/>\r\n\r\n                                            <img className=\"ggcalendar-img\" src=\"google-calendar-logo.png\" width=\"76\" alt={\"Google calendar Logo\"}/>\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n\r\n                                    <div className=\"mb-3\">\r\n\r\n                                        <div id=\"g-signin2\"\r\n                                            className=\"justify-content-center align-items-center text-center\"\r\n                                            data-width=\"240\" data-height=\"36\" data-longtitle=\"true\"/>\r\n                                        {/*<button className=\"btn btn-primary d-block w-100 btn-signin\" id=\"sign-in-google\"*/}\r\n                                        {/*        type=\"button\">Sign In with Google*/}\r\n                                        {/*</button>*/}\r\n                                        <LoginButton/>\r\n                                        {/* <LogoutButton/> */}\r\n                                    </div>\r\n                                </form>\r\n                            </section>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n\r\n            <div>\r\n                <Alert color=\"success\" variant=\"success\" show={this.state.visible}>\r\n                    Đăng nhập vào UET courses thành công.\r\n                    Thông tin đăng nhập đã được lưu vào hệ thống\r\n                </Alert>\r\n            </div>\r\n\r\n            <script src=\"/src/bootstrap/js/bootstrap.min.js\"/>\r\n            <script src=\"/src/js/authen_func/auth-google.js\"/>\r\n            <script src=\"/src/js/authen_func/z-auth.js\"/>\r\n            <script src=\"/src/js/authen_func/authConfig.js\"/>\r\n            <script src=\"/src/js/authen_func/graphConfig.js\"/>\r\n            <script src=\"/src/js/authen_func/authPopup.js\"/>\r\n            <script src=\"/src/js/authen_func/graph.js\"/>\r\n        </div>\r\n\r\n\r\n\r\n        );\r\n    }\r\n};\r\nexport default LoginTab;\r\n","import React, {useState} from \"react\";\r\nimport CalendarTab from \"./CalendarTab\"\r\nimport LoginTab from \"./LoginTab\"\r\n\r\nexport default function Tabs() {\r\n    const [activeTab, setActiveTab] = useState(\"tab1\");\r\n    const handleTab1 = () => {\r\n        // update the state to tab1\r\n        setActiveTab(\"tab1\");\r\n    };\r\n    const handleTab2 = () => {\r\n        // update the state to tab2\r\n        setActiveTab(\"tab2\");\r\n    };\r\n    return (\r\n        <div className=\"Tabs\" style={{margin: 0}}>\r\n            {/* Tab nav */}\r\n            <ul className=\"nav\">\r\n                <li className={activeTab === \"tab1\" ? \"active\" : \"\"}\r\n                    onClick={handleTab1}>\r\n                    Login\r\n                </li>\r\n                <li className={activeTab === \"tab2\" ? \"active\" : \"\"}\r\n                    onClick={handleTab2}>Calendar</li>\r\n            </ul>\r\n            <div className=\"outlet\">\r\n                {activeTab === \"tab1\" ? <LoginTab /> : <CalendarTab />}\r\n            </div>\r\n        </div>    );\r\n};","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\n//import { useGoogleAuth } from \"./GoogleAuthProvider\";\r\n\r\nconst PrivateRouter = ({component: Component, ...rest}) => {\r\n\r\n    //const { isSignedIn } = useGoogleAuth();\r\n\r\n    const isSignedIn = false;\r\n\r\n    return (\r\n        <div>\r\n            <Route {...rest} render={props => (\r\n                isSignedIn ?\r\n                    <Component {...props} />:\r\n                    <Redirect exact from=\"/private\" to=\"/\" />\r\n            )} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PrivateRouter;","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport { useGoogleAuth } from \"./GoogleAuthProvider\";\r\n\r\nconst PublicRouter = ({component: Component, ...rest}) => {\r\n\r\n    //const { isSignedIn } = useGoogleAuth();\r\n    const isSignedIn = false;\r\n\r\n    return (\r\n        <div>\r\n            <Route {...rest} render={props => (\r\n                !isSignedIn ?\r\n                    <Component {...props} /> :\r\n                    // <Redirect exact to=\"/private\" />\r\n                    <Redirect exact to=\"/\" />\r\n            )} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PublicRouter;","import React, {Suspense, lazy} from \"react\";\r\nimport Tabs from \"./components/Tabs\"\r\nimport PrivateRouter from './components/google.login/PrivateRouter';\r\nimport PublicRouter from './components/google.login/PublicRouter';\r\nimport {BrowserRouter, Switch, Router} from 'react-router-dom';\r\n\r\nclass BasePage extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <PublicRouter  path=\"/\" component={Tabs} />\r\n                {/*<PrivateRouter path=\"/private\" component={PrivatePage} />*/}\r\n                <PrivateRouter path=\"/\" component={Tabs} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BasePage;","import { Button } from \"react-bootstrap\";\r\nimport React from \"react\";\r\nimport { Redirect, Switch, Route } from \"react-router-dom\";\r\nimport BasePage from \"./BasePage\";\r\n//import { Logout, AuthPage } from \"./modules/Auth\";\r\n\r\nconst AuthPage = ({doLogin, doRegister, setAccessToken}) => (\r\n    <div>\r\n        <Button \r\n            variant=\"primary\"\r\n            onClick={() => {\r\n                doLogin('zachtrong', '123456', (token) => {\r\n                    setAccessToken(token);\r\n                })\r\n            }}\r\n        >\r\n            Login\r\n        </Button>\r\n\r\n        <Button \r\n            variant=\"primary\"\r\n            onClick={() => {\r\n                doRegister('account_registration', '123456', (token) => {\r\n                    setAccessToken(token);\r\n                })\r\n            }}\r\n        >\r\n            Register\r\n        </Button>\r\n    </div>\r\n);\r\n\r\nconst Logout = () => (\r\n    <div>\r\n        Logout\r\n    </div>\r\n);\r\n\r\nexport function Routes({doLogin, doRegister, isAuthorized, setAccessToken}) {\r\n\r\n  return (\r\n    <Switch>\r\n      {!isAuthorized ? (\r\n        /*Render auth page when user at `/auth` and not authorized.*/\r\n        <Route>\r\n          <AuthPage doLogin={doLogin} doRegister={doRegister} setAccessToken={setAccessToken} />\r\n        </Route>\r\n      ) : (\r\n        /*Otherwise redirect to root page (`/`)*/\r\n        <Redirect from=\"/auth\" to=\"/\" />\r\n      )}\r\n\r\n      {/*<Route path=\"/error\" component={ErrorsPage} />*/}\r\n      <Route path=\"/logout\" component={Logout} />\r\n\r\n      {!isAuthorized ? (\r\n        /*Redirect to `/auth` when user is not authorized*/\r\n        <Redirect to=\"/auth/login\" />\r\n      ) : (\r\n        <BasePage />\r\n      )}\r\n    </Switch>\r\n  );\r\n}\r\n","import '../css/App.css';\r\nimport React, { useState } from 'react';\r\nimport Tabs from \"./components/Tabs\"\r\nimport PrivateRouter from './components/google.login/PrivateRouter';\r\nimport PublicRouter from './components/google.login/PublicRouter';\r\nimport {BrowserRouter, Switch, Router} from 'react-router-dom';\r\nimport BasePage from './BasePage';\r\nimport { Routes } from './Routes';\r\n// import PrivatePage from './components/google.login/PrivatePage'\r\n// import PublicPage from './components/google.login/PublicPage'\r\n\r\nconst doLogin = (username, password, cb) => {\r\n    // login\r\n    fetch('http://localhost:8080/api/auth/signin', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            username: username,\r\n            password: password \r\n        })\r\n    })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n        cb(res.data.accessToken);\r\n    });\r\n};\r\n\r\nconst doRegister = (username, password, cb) => {\r\n    // register\r\n    fetch('http://localhost:8080/api/auth/signup', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            username: username,\r\n            password: password \r\n        })\r\n    })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n        cb(res.data.accessToken);\r\n    });\r\n};\r\n\r\nexport default function App() {\r\n    const [isAuthorized, setAuthorized] = useState(!!localStorage.getItem('accessToken'), false);\r\n    const setAccessToken = (accessToken) => {\r\n        console.log(accessToken);\r\n        localStorage.setItem('accessToken', accessToken);\r\n        setAuthorized(true);\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\" style={{display: \"block\"}}>\r\n            <div className=\"welcome\">Hệ thống đồng bộ lịch biểu\r\n            <br/>\r\n                Nhóm 2 - K63T - Tích hợp hệ thống\r\n            </div>\r\n\r\n            {/*<Tabs />*/}\r\n\r\n            <BrowserRouter>\r\n                <Routes isAuthorized={isAuthorized} setAccessToken={setAccessToken} doLogin={doLogin} doRegister={doRegister}/>\r\n            </BrowserRouter>\r\n\r\n            {/*\r\n            <BrowserRouter>\r\n                <div>\r\n                    <PublicRouter  path=\"/\" component={Tabs} />\r\n                    <PrivateRouter path=\"/\" component={Tabs} />\r\n                </div>\r\n            </BrowserRouter>\r\n            */}\r\n        </div>\r\n    );\r\n}\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './js/App';\r\nimport reportWebVitals from \"./js/reportWebVitals\";\r\n//import { GoogleAuthProvider } from './js/components/google.login/GoogleAuthProvider'\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}