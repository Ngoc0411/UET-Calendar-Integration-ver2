(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{33:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},61:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c=n(3),s=n.n(c),a=n(11),o=n.n(a),r=(n(56),n(12)),i=n(94),l=(n(57),n(5)),j=n(93),u=n(97),d=n(96),b=n(95),h=n(15),m=n(16),p=n(18),g=n(17),x=(n(33),n(1)),O=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("form",{className:"auth-form signup-form",children:[Object(x.jsx)("h3",{children:"Register"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Username"}),Object(x.jsx)("input",{type:"username",className:"form-control",placeholder:"Enter username"}),Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password"})]}),Object(x.jsxs)("div",{className:"form-control__submit",children:[Object(x.jsx)("button",{type:"submit",style:{width:"100px",margin:"10px",border:"1px solid gray",borderRadius:"10px",color:"black"},children:Object(x.jsx)(j.a,{style:{textDecoration:"none",color:"black"},to:"/home",children:"Confirm"})}),Object(x.jsx)("button",{type:"submit",style:{width:"250px",border:"1px solid gray",borderRadius:"10px"},children:Object(x.jsx)(j.a,{style:{textDecoration:"none",color:"black"},to:"/sign-in",children:"\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n? \u0110\u0103ng Nh\u1eadp"})})]})]})}}]),n}(s.a.Component),f=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),s=n[0],a=n[1],o=Object(c.useState)(""),i=Object(r.a)(o,2),l=i[0],u=i[1];return Object(x.jsxs)("form",{className:"auth-form login-form",children:[Object(x.jsx)("h3",{children:"Login"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Username"}),Object(x.jsx)("input",{type:"username",className:"form-control",value:s,onChange:function(e){return a(e.target.value)},placeholder:"Enter username"}),Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",value:l,onChange:function(e){return u(e.target.value)},placeholder:"Enter password"})]}),Object(x.jsxs)("div",{className:"form-control__submit2",children:[Object(x.jsx)("button",{type:"submit",style:{width:"100px",margin:"10px",border:"1px solid gray",borderRadius:"10px"},children:Object(x.jsx)(j.a,{onClick:function(t){t.preventDefault(),e.doLogin(s,l,(function(t){e.setAccessToken(t),e.history.push("/")}))},style:{textDecoration:"none",color:"black"},to:"/home",children:"Confirm"})}),Object(x.jsx)("button",{type:"submit",style:{width:"250px",border:"1px solid gray",borderRadius:"10px"},children:Object(x.jsx)(j.a,{style:{textDecoration:"none",color:"black"},to:"/sign-up",children:"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? \u0110\u0103ng K\xfd!"})})]})]})},v=(n(61),n(50)),y=n(20),N=n.n(y),w=n(23),k=n(27),T=n(51),C=n(43),S=n(44),L=n.n(S),A=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var c;return Object(h.a)(this,n),(c=t.call(this,e)).state={calendars:[]},c.getCalendarsFromAPI=c.getCalendarsFromAPI.bind(Object(k.a)(c)),c}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCalendarsFromAPI("/rest/uet-courses-calendar");case 2:return e.next=4,this.getCalendarsFromAPI("/rest/google-calendar");case 4:return e.next=6,this.getCalendarsFromAPI("/rest/google-gmail");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCalendarsFromAPI",value:function(){var e=Object(w.a)(N.a.mark((function e(t){var n=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get(t).then((function(e){for(var t=e.data,c=Object(v.a)(n.state.calendars),s=0;s<t.length;s++)c.push(t[s]);n.setState({calendars:c}),console.log(n.state.calendars)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:this.state.name}),Object(x.jsx)(T.a,{plugins:[C.a],initialView:"dayGridMonth",weekends:!0,events:this.state.calendars})]})}}]),n}(s.a.Component),P=A,I=(n(83),n(84),n(49)),F=n(31),_=n.n(F),R=function(){return Object(x.jsx)(_.a,{clientId:"905434550263-fe4nhl3ec5u3r1tnkd77pq64053ddb6m.apps.googleusercontent.com",render:function(e){return Object(x.jsx)("button",{className:"btn btn-primary d-block w-100 btn-signin",id:"sign-in-google",type:"button",onClick:e.onClick,children:"Sign In with Google"})},buttonText:"Login",isSignedIn:!0,responseType:"code",prompt:"consent",scope:"https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/gmail.readonly https://www.googleapis.com/auth/calendar",onSuccess:function(e){fetch("".concat("","/api/integration/google-auth"),{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken")),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},onFailure:function(e){console.log(e)},cookiePolicy:"single_host_origin"})};var D=function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:"btn btn-primary d-block w-30 btn-signin",id:"sign-in-google",type:"button",style:{position:"fixed",top:50,right:20},onClick:function(){localStorage.clear(),window.location.reload()},children:"Sign out"})})},E=function(e){Object(p.a)(c,e);var t=Object(g.a)(c);function c(e){var s;return Object(h.a)(this,c),(s=t.call(this,e)).onShowAlert=function(){s.setState({visible:!0},(function(){window.setTimeout((function(){s.setState({visible:!1})}),3e3)}))},s.submitLoginUetCourses=Object(w.a)(N.a.mark((function e(){var t,c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n(85),c=document.querySelector("#uet-auth-form"),a=t(c),fetch("https://courses.uet.vnu.edu.vn/login/token.php?service=moodle_mobile_app",{method:"POST",body:a,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){fetch("".concat("","/api/integration/uet-auth"),{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken")),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))})),s.onShowAlert();case 5:case"end":return e.stop()}}),e)}))),s.state={visible:!1,isLogInUETCoursesSuccess:!1},s}return Object(m.a)(c,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"FirstTab",children:[Object(x.jsx)("section",{className:"text-center features-icons",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-lg-4",children:[Object(x.jsx)("div",{className:"mx-auto features-icons-item mb-5 mb-lg-0 mb-lg-3"}),Object(x.jsx)("section",{className:"login-clean form-login",style:{borderRadius:"10px"},children:Object(x.jsxs)("form",{id:"uet-auth-form",children:[Object(x.jsx)("h2",{className:"visually-hidden",children:"Login Form"}),Object(x.jsx)("div",{className:"illustration",children:Object(x.jsx)("img",{src:"uet-logo.png",alt:"UET Logo"})}),Object(x.jsx)("div",{className:"mb-3",children:Object(x.jsx)("input",{style:{marginLeft:"1px"},className:"form-control",type:"text",id:"uet-username-1",name:"username",placeholder:"Username"})}),Object(x.jsx)("div",{className:"mb-3",children:Object(x.jsx)("input",{style:{marginLeft:"1px"},className:"form-control",type:"password",id:"uet-password-1",name:"password",placeholder:"Password"})}),Object(x.jsx)("button",{className:"btn btn-primary d-block w-100 btn-signin",type:"button",onClick:this.submitLoginUetCourses,children:"Sign In"}),Object(x.jsx)("div",{className:"mb-3"})]})})]}),Object(x.jsxs)("div",{className:"col-lg-4",children:[Object(x.jsx)("div",{className:"mx-auto features-icons-item mb-5 mb-lg-0 mb-lg-3"}),Object(x.jsx)("section",{className:"login-clean form-login",style:{borderRadius:"10px",height:"420px"},children:Object(x.jsxs)("form",{id:"google-auth-form",style:{height:"380px"},children:[Object(x.jsx)("h2",{className:"visually-hidden",children:"Login Form"}),Object(x.jsx)("div",{className:"illustration",style:{margin:"-11px"},children:Object(x.jsx)("img",{src:"google.png",alt:"Chrome Logo",className:"google-img",style:{width:"60px"}})}),Object(x.jsx)("img",{className:"gmail-img",style:{width:"60px",marginRight:"80px"},src:"gmail-logo.png",alt:"Gmail Logo"}),Object(x.jsx)("img",{className:"ggcalendar-img",style:{width:"60px"},src:"google-calendar-logo.png",alt:"Google calendar Logo"}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("div",{id:"g-signin2",className:"justify-content-center align-items-center text-center","data-width":"240","data-height":"36","data-longtitle":"true"}),Object(x.jsx)(R,{})]})]})})]})]})})}),Object(x.jsx)(D,{}),Object(x.jsx)("div",{children:Object(x.jsx)(I.a,{color:"success",variant:"success",show:this.state.visible,children:"\u0110\u0103ng nh\u1eadp v\xe0o UET courses th\xe0nh c\xf4ng. Th\xf4ng tin \u0111\u0103ng nh\u1eadp \u0111\xe3 \u0111\u01b0\u1ee3c l\u01b0u v\xe0o h\u1ec7 th\u1ed1ng"})}),Object(x.jsx)("script",{src:"/src/bootstrap/js/bootstrap.min.js"}),Object(x.jsx)("script",{src:"/src/js/authen_func/auth-google.js"}),Object(x.jsx)("script",{src:"/src/js/authen_func/z-auth.js"}),Object(x.jsx)("script",{src:"/src/js/authen_func/authConfig.js"}),Object(x.jsx)("script",{src:"/src/js/authen_func/graphConfig.js"}),Object(x.jsx)("script",{src:"/src/js/authen_func/authPopup.js"}),Object(x.jsx)("script",{src:"/src/js/authen_func/graph.js"})]})}}]),c}(s.a.Component);function U(e){var t=Object(c.useState)("tab1"),n=Object(r.a)(t,2),s=n[0],a=n[1];return Object(x.jsxs)("div",{className:"Tabs",style:{margin:0},children:[Object(x.jsxs)("ul",{className:"nav",children:[Object(x.jsx)("li",{className:"tab1"===s?"active":"",onClick:function(){a("tab1")},children:"Login"}),Object(x.jsx)("li",{className:"tab2"===s?"active":"",onClick:function(){a("tab2")},children:"Calendar"})]}),Object(x.jsx)("div",{className:"outlet",children:"tab1"===s?Object(x.jsx)(E,{}):Object(x.jsx)(P,{})})]})}var J=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"Home",style:{display:"block"},children:[Object(x.jsxs)("div",{className:"welcome",children:["Ch\xe0o m\u1eebng \u0111\u1ebfn v\u1edbi h\u1ec7 th\u1ed1ng \u0111\u1ed3ng b\u1ed9 l\u1ecbch bi\u1ec3u",Object(x.jsx)("br",{}),"Nh\xf3m 2 - K63T - T\xedch h\u1ee3p h\u1ec7 th\u1ed1ng"]}),Object(x.jsx)(i.a,{children:Object(x.jsx)(U,{})})]})}}]),n}(s.a.Component),z=n(8),B=(n(48),["component"]),G=function(e){e.component;var t=Object(z.a)(e,B);return Object(x.jsx)("div",{children:Object(x.jsx)(d.a,Object(l.a)(Object(l.a)({},t),{},{render:function(e){return Object(x.jsx)(b.a,{exact:!0,from:"/private",to:"/"})}}))})},K=["component"],q=function(e){var t=e.component,n=Object(z.a)(e,K);return Object(x.jsx)("div",{children:Object(x.jsx)(d.a,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return Object(x.jsx)(t,Object(l.a)({},e))}}))})},H=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(q,{path:"/",component:U}),Object(x.jsx)(G,{path:"/",component:U})]})},M=function(e){var t=e.doLogin,n=e.doRegister,c=e.setAccessToken;return Object(x.jsx)(i.a,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(j.a,{className:"navbar-brand",to:"/",children:"\u0394\u03b9\u03ac\u03b2\u03bf\u03bb\u03bf\u03c2"}),Object(x.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02",children:Object(x.jsxs)("ul",{className:"navbar-nav",children:[Object(x.jsx)(j.a,{style:{color:"black",textDecoration:"none"},to:"/sign-in",children:"Sign in"})," /",Object(x.jsx)(j.a,{style:{color:"black",textDecoration:"none"},to:"/sign-up",children:"Sign up"})]})})]})}),Object(x.jsx)("div",{className:"outer",children:Object(x.jsxs)("div",{className:"inner",children:[Object(x.jsxs)(u.a,{children:[Object(x.jsx)(d.a,{style:{padding:"40px 55px 45px 55px"},path:"/sign-up",render:function(e){return Object(x.jsx)(O,Object(l.a)(Object(l.a)({},e),{},{doRegister:n,setAccessToken:c}))}}),Object(x.jsx)(d.a,{style:{padding:"40px 55px 45px 55px"},path:"/sign-in",render:function(e){return Object(x.jsx)(f,Object(l.a)(Object(l.a)({},e),{},{doLogin:t,setAccessToken:c}))}})]}),Object(x.jsx)(u.a,{children:Object(x.jsx)(d.a,{path:"/home",component:J})})]})})]})})},V=function(){return Object(x.jsx)("div",{children:"Logout"})};function Q(e){var t=e.doLogin,n=e.doRegister,c=e.isAuthorized,s=e.setAccessToken;return Object(x.jsxs)(u.a,{children:[c?Object(x.jsx)(b.a,{from:"/auth",to:"/"}):Object(x.jsx)(d.a,{children:Object(x.jsx)(M,{doLogin:t,doRegister:n,setAccessToken:s})}),Object(x.jsx)(d.a,{path:"/logout",component:V}),c?Object(x.jsx)(H,{}):Object(x.jsx)(b.a,{to:"/auth/login"})]})}var W=function(e,t,n){fetch("".concat("","/api/auth/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){e.error?console.log("error"):n(e.data.accessToken)}))},X=function(e,t,n){fetch("".concat("","/api/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){n(e.data.accessToken)}))};var Y=function(){var e=Object(c.useState)(!!localStorage.getItem("accessToken"),!1),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(x.jsxs)("div",{className:"App",style:{display:"block"},children:[Object(x.jsxs)("div",{className:"welcome",children:["H\u1ec7 th\u1ed1ng \u0111\u1ed3ng b\u1ed9 l\u1ecbch bi\u1ec3u",Object(x.jsx)("br",{}),"Nh\xf3m 2 - K63T - T\xedch h\u1ee3p h\u1ec7 th\u1ed1ng"]}),Object(x.jsx)(i.a,{children:Object(x.jsx)(Q,{isAuthorized:n,setAccessToken:function(e){console.log(e),localStorage.setItem("accessToken",e),s(!0)},doLogin:W,doRegister:X})})]})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))};o.a.render(Object(x.jsx)(Y,{}),document.getElementById("root")),Z()}},[[89,1,2]]]);
//# sourceMappingURL=main.a9b2f20f.chunk.js.map