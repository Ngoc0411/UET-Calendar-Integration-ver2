(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{64:function(e,t,n){},65:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),o=n(13),a=n.n(o),i=(n(64),n(14)),r=(n(65),n(58)),l=n(15),u=n.n(l),j=n(22),d=n(16),h=n(17),b=n(28),g=n(20),m=n(19),p=n(59),O=n(49),f=n(50),x=n.n(f),v=n(3),y=function(e){Object(g.a)(n,e);var t=Object(m.a)(n);function n(e){var c;return Object(d.a)(this,n),(c=t.call(this,e)).state={calendars:[]},c.getCalendarsFromAPI=c.getCalendarsFromAPI.bind(Object(b.a)(c)),c}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCalendarsFromAPI("/rest/uet-courses-calendar");case 2:return e.next=4,this.getCalendarsFromAPI("/rest/google-calendar");case 4:return e.next=6,this.getCalendarsFromAPI("/rest/google-gmail");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCalendarsFromAPI",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(t).then((function(e){for(var t=e.data,c=Object(r.a)(n.state.calendars),s=0;s<t.length;s++)c.push(t[s]);n.setState({calendars:c}),console.log(n.state.calendars)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:this.state.name}),Object(v.jsx)(p.a,{plugins:[O.a],initialView:"dayGridMonth",weekends:!0,events:this.state.calendars})]})}}]),n}(s.a.Component),w=y,N=(n(88),n(89),n(57)),k=n(26),T=n.n(k),C=function(){return Object(v.jsx)(T.a,{clientId:"905434550263-fe4nhl3ec5u3r1tnkd77pq64053ddb6m.apps.googleusercontent.com",render:function(e){return Object(v.jsx)("button",{className:"btn btn-primary d-block w-100 btn-signin",id:"sign-in-google",type:"button",onClick:e.onClick,children:"Sign In with Google"})},buttonText:"Login",isSignedIn:!0,responseType:"code",prompt:"consent",scope:"https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/gmail.readonly",onSuccess:function(e){fetch("http://localhost:8080/api/integration/google-auth",{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken")),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},onFailure:function(e){console.log(e)},cookiePolicy:"single_host_origin"})},S=function(e){Object(g.a)(c,e);var t=Object(m.a)(c);function c(e){var s;return Object(d.a)(this,c),(s=t.call(this,e)).onShowAlert=function(){s.setState({visible:!0},(function(){window.setTimeout((function(){s.setState({visible:!1})}),3e3)}))},s.submitLoginUetCourses=Object(j.a)(u.a.mark((function e(){var t,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n(90),c=document.querySelector("#uet-auth-form"),o=t(c),fetch("https://courses.uet.vnu.edu.vn/login/token.php?service=moodle_mobile_app",{method:"POST",body:o,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){fetch("http://localhost:8080/api/integration/uet-auth",{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken")),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))})),s.onShowAlert();case 5:case"end":return e.stop()}}),e)}))),s.state={visible:!1,isLogInUETCoursesSuccess:!1},s}return Object(h.a)(c,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"FirstTab",children:[Object(v.jsx)("section",{className:"text-center features-icons",children:Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-lg-4",children:[Object(v.jsx)("div",{className:"mx-auto features-icons-item mb-5 mb-lg-0 mb-lg-3"}),Object(v.jsx)("section",{className:"login-clean form-login",children:Object(v.jsxs)("form",{id:"uet-auth-form",children:[Object(v.jsx)("h2",{className:"visually-hidden",children:"Login Form"}),Object(v.jsx)("div",{className:"illustration",children:Object(v.jsx)("img",{src:"uet-logo.png",alt:"UET Logo"})}),Object(v.jsx)("div",{className:"mb-3",children:Object(v.jsx)("input",{className:"form-control",type:"text",id:"uet-username-1",name:"username",placeholder:"Username"})}),Object(v.jsx)("div",{className:"mb-3",children:Object(v.jsx)("input",{className:"form-control",type:"password",id:"uet-password-1",name:"password",placeholder:"Password"})}),Object(v.jsx)("button",{className:"btn btn-primary d-block w-100 btn-signin",type:"button",onClick:this.submitLoginUetCourses,children:"Sign In"}),Object(v.jsx)("div",{className:"mb-3"})]})})]}),Object(v.jsxs)("div",{className:"col-lg-4",children:[Object(v.jsx)("div",{className:"mx-auto features-icons-item mb-5 mb-lg-0 mb-lg-3"}),Object(v.jsx)("section",{className:"login-clean form-login",children:Object(v.jsxs)("form",{id:"google-auth-form",children:[Object(v.jsx)("h2",{className:"visually-hidden",children:"Login Form"}),Object(v.jsxs)("div",{className:"illustration",children:[Object(v.jsx)("img",{src:"google.png",width:"76",alt:"Chrome Logo",className:"google-img"}),Object(v.jsxs)("div",{className:"gmail-ggcalendar-img",children:[Object(v.jsx)("img",{className:"gmail-img",src:"gmail-logo.png",width:"76",alt:"Gmail Logo"}),Object(v.jsx)("img",{className:"ggcalendar-img",src:"google-calendar-logo.png",width:"76",alt:"Google calendar Logo"})]})]}),Object(v.jsxs)("div",{className:"mb-3",children:[Object(v.jsx)("div",{id:"g-signin2",className:"justify-content-center align-items-center text-center","data-width":"240","data-height":"36","data-longtitle":"true"}),Object(v.jsx)(C,{})]})]})})]})]})})}),Object(v.jsx)("div",{children:Object(v.jsx)(N.a,{color:"success",variant:"success",show:this.state.visible,children:"\u0110\u0103ng nh\u1eadp v\xe0o UET courses th\xe0nh c\xf4ng. Th\xf4ng tin \u0111\u0103ng nh\u1eadp \u0111\xe3 \u0111\u01b0\u1ee3c l\u01b0u v\xe0o h\u1ec7 th\u1ed1ng"})}),Object(v.jsx)("script",{src:"/src/bootstrap/js/bootstrap.min.js"}),Object(v.jsx)("script",{src:"/src/js/authen_func/auth-google.js"}),Object(v.jsx)("script",{src:"/src/js/authen_func/z-auth.js"}),Object(v.jsx)("script",{src:"/src/js/authen_func/authConfig.js"}),Object(v.jsx)("script",{src:"/src/js/authen_func/graphConfig.js"}),Object(v.jsx)("script",{src:"/src/js/authen_func/authPopup.js"}),Object(v.jsx)("script",{src:"/src/js/authen_func/graph.js"})]})}}]),c}(s.a.Component);function L(){var e=Object(c.useState)("tab1"),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(v.jsxs)("div",{className:"Tabs",style:{margin:0},children:[Object(v.jsxs)("ul",{className:"nav",children:[Object(v.jsx)("li",{className:"tab1"===n?"active":"",onClick:function(){s("tab1")},children:"Login"}),Object(v.jsx)("li",{className:"tab2"===n?"active":"",onClick:function(){s("tab2")},children:"Calendar"})]}),Object(v.jsx)("div",{className:"outlet",children:"tab1"===n?Object(v.jsx)(S,{}):Object(v.jsx)(w,{})})]})}var A=n(5),I=n(8),P=n(9),F=["component"],_=function(e){e.component;var t=Object(I.a)(e,F);return Object(v.jsx)("div",{children:Object(v.jsx)(P.c,Object(A.a)(Object(A.a)({},t),{},{render:function(e){return Object(v.jsx)(P.b,{exact:!0,from:"/private",to:"/"})}}))})},z=["component"],J=function(e){var t=e.component,n=Object(I.a)(e,z);return Object(v.jsx)("div",{children:Object(v.jsx)(P.c,Object(A.a)(Object(A.a)({},n),{},{render:function(e){return Object(v.jsx)(t,Object(A.a)({},e))}}))})},U=function(e){Object(g.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(J,{path:"/",component:L}),Object(v.jsx)(_,{path:"/",component:L})]})}}]),n}(s.a.Component),R=U,B=n(99),E=function(e){var t=e.doLogin,n=e.doRegister,c=e.setAccessToken;return Object(v.jsxs)("div",{children:[Object(v.jsx)(B.a,{variant:"primary",onClick:function(){t("zachtrong","123456",(function(e){c(e)}))},children:"Login"}),Object(v.jsx)(B.a,{variant:"primary",onClick:function(){n("account_registration","123456",(function(e){c(e)}))},children:"Register"})]})},G=function(){return Object(v.jsx)("div",{children:"Logout"})};function q(e){var t=e.doLogin,n=e.doRegister,c=e.isAuthorized,s=e.setAccessToken;return Object(v.jsxs)(P.d,{children:[c?Object(v.jsx)(P.b,{from:"/auth",to:"/"}):Object(v.jsx)(P.c,{children:Object(v.jsx)(E,{doLogin:t,doRegister:n,setAccessToken:s})}),Object(v.jsx)(P.c,{path:"/logout",component:G}),c?Object(v.jsx)(R,{}):Object(v.jsx)(P.b,{to:"/auth/login"})]})}var D=function(e,t,n){fetch("http://localhost:8080/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){n(e.data.accessToken)}))},M=function(e,t,n){fetch("http://localhost:8080/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){n(e.data.accessToken)}))};function H(){var e=Object(c.useState)(!!localStorage.getItem("accessToken"),!1),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(v.jsxs)("div",{className:"App",style:{display:"block"},children:[Object(v.jsxs)("div",{className:"welcome",children:["H\u1ec7 th\u1ed1ng \u0111\u1ed3ng b\u1ed9 l\u1ecbch bi\u1ec3u",Object(v.jsx)("br",{}),"Nh\xf3m 2 - K63T - T\xedch h\u1ee3p h\u1ec7 th\u1ed1ng"]}),Object(v.jsx)(P.a,{children:Object(v.jsx)(q,{isAuthorized:n,setAccessToken:function(e){console.log(e),localStorage.setItem("accessToken",e),s(!0)},doLogin:D,doRegister:M})})]})}var K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,100)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),o(e),a(e)}))};a.a.render(Object(v.jsx)(H,{}),document.getElementById("root")),K()}},[[96,1,2]]]);
//# sourceMappingURL=main.a14fc5f7.chunk.js.map